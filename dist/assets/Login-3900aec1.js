import{r as o,u as y,a as N,b as v,B as x,j as e,c as s,L as S,Q as P,l as k}from"./index-36e0d91e.js";const p=l=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l),T=()=>{const[l,d]=o.useState(!1),[n,g]=o.useState({bool:!1,message:""}),[m,u]=o.useState({bool:!1,message:""}),[h,t]=o.useState(!1),j=y(),f=N(),a=v(r=>r.LoginSlice.loginData),w=r=>{r.preventDefault();const b=new FormData(r.currentTarget),c=b.get("email"),i=b.get("password");g({bool:!1,message:""}),u({bool:!1,message:""}),(!c||!p(c))&&g({bool:!0,message:"Invalid email format."}),i===""&&u({bool:!0,message:"Password is required."}),p(c)&&i&&(t(!0),j(k({email:c,password:i})),t(!1))};return o.useEffect(()=>{(a==null?void 0:a.msg)==="Success"?(x.success("Login successful!"),t(!1),f("/dashboard/home")):(a==null?void 0:a.msg)==="Error"&&(x.error("Invalid email or password. Please try again."),t(!1))},[a,f]),e.jsxs("section",{className:"w-full h-screen p-8 flex gap-4 bg-gradient-to-br from-blue-100 to-green-50",children:[e.jsxs("div",{className:"w-fit h-fit lg:w-3/5 mt-24 justify-center items-center rounded-lg p-4",children:[e.jsx("div",{className:"text-center",children:e.jsx(s.Typography,{variant:"h2",className:"font-bold mb-4",children:"Sign In"})}),e.jsxs("form",{onSubmit:w,className:"mt-8 mb-2 mx-auto w-80 max-w-screen-lg lg:w-1/2",children:[e.jsxs("div",{className:"mb-6 flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx(s.Typography,{variant:"small",color:"blue-gray",className:"block mb-1 font-medium",children:"Your email"}),e.jsx(s.Input,{name:"email",size:"lg",placeholder:"name@mail.com",className:"!border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"},error:n.bool}),n.bool&&e.jsx(s.Typography,{variant:"small",color:"red",className:"mt-1",children:n.message})]}),e.jsxs("div",{children:[e.jsx(s.Typography,{variant:"small",color:"blue-gray",className:"block mb-1 font-medium",children:"Password"}),e.jsx(s.Input,{name:"password",type:l?"text":"password",size:"lg",placeholder:"********",className:"!border-t-blue-gray-200 focus:!border-t-gray-900",labelProps:{className:"before:content-none after:content-none"},error:m.bool}),m.bool&&e.jsx(s.Typography,{variant:"small",color:"red",className:"mt-1",children:m.message})]}),e.jsx("div",{className:"flex items-center gap-2 mt-2",children:e.jsx(s.Checkbox,{checked:l,onChange:r=>d(r.target.checked),label:e.jsx(s.Typography,{variant:"small",color:"gray",className:"flex items-center justify-start font-medium",children:"Show Password"}),containerProps:{className:"ml-0"}})})]}),e.jsx(s.Button,{type:"submit",className:"mt-6 bg-custom-theme text-white",fullWidth:!0,disabled:h,children:h?e.jsx(s.Spinner,{className:"h-5 w-5"}):"Sign In"})]})]}),e.jsx("div",{className:"w-2/5 h-full hidden lg:block justify-center items-center my-auto",children:e.jsx("img",{src:S,className:"h-full w-full object-cover rounded-3xl",alt:"logo"})}),e.jsx(P,{})]})};export{T as default};
